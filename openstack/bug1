https://bugs.launchpad.net/heat/+bug/1439033
https://review.openstack.org/169973

MIN_API_VERSION_MAP = {'read_only': '1.17', 'cpu_shares': '1.8'}

        validate_arg_for_api_version(create_args, self.properties,
                                     MIN_API_VERSION_MAP[self.CPU_SHARES], version,
                                     self.CPU_SHARES)
                                     

def validate_arg_for_api_version(args, my_properties,
                                 min_version, version, arg):
    if compare_version(min_version, version) >= 0:
        args[arg] = my_properties[arg]
    else:
        raise InvalidArgForVersion(arg=arg, min_version=min_version)
